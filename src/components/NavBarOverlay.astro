---
import { Image } from "astro:assets"
import arrowDown from "@assets/arrow-down.svg"

import iconCall from "@assets/icon-call.svg"
import iconEmail from "@assets/icon-email.svg"
import iconFb from "@assets/icon-fb.svg"
import iconMsg from "@assets/icon-message.svg"
---

<div id="myNav" class="overlay">
    <div class="overlay-content flex flex-col gap-10 items-center text-3xl text-gray-400">
        <!-- About use -->
        <a href="/about" class="text-3xl text-gray-400 hover:text-white">About</a>
        <!-- Contact -->
        <button class="dropdown-btn text-gray-400 flex items-center gap-2">
            <span class="text-3xl hover:text-white active:text-white">Contact</span>
            <ion-icon name="caret-down-outline" class="text-2xl"></ion-icon>
        </button>
        <div class="dropdown-container flex flex-col gap-2 text-2xl text-gray-400">
            <nav class="px-8 py-10 rounded-md">
                <div>
                    <h3 class="font-medium">Talk to us</h3>
                    <p class="text-gray-500 text-sm pb-2 border-b">We will repond within 24 hours.</p>
                </div>
                <div class="flex flex-col gap-5">
                    <div class="flex gap-4 py-2 border-b">
                        <Image src={iconCall} alt="call icon" class="w-5" />
                        <div class="flex flex-col gap-0.5">
                            <p class="text-gray-400 font-medium text-sm">Call us on:</p>
                            <a href="tel:+14034535703" class="font-medium text-sm hover:underline transition-all"
                                >+14034535703</a
                            >
                        </div>
                    </div>
                    <div class="flex gap-4 pb-2 border-b">
                        <Image src={iconEmail} alt="email icon" class="w-5" />
                        <div class="flex flex-col gap-0.5">
                            <p class="text-gray-400 font-medium text-sm">Email us on:</p>
                            <a
                                href="mailto:care@banffpay.com"
                                class="font-medium text-sm hover:underline transition-all">care@banffpay.com</a
                            >
                        </div>
                    </div>
                    <div class="flex gap-4 pb-2 border-b">
                        <Image src={iconFb} alt="facebook icon" class="w-5" />
                        <div class="flex flex-col gap-0.5">
                            <p class="text-gray-400 font-medium text-sm">Connect with us on:</p>
                            <a
                                href="https://www.facebook.com/profile.php?id=61556882105813"
                                class="font-medium text-sm hover:underline transition-all">Facebook</a
                            >
                        </div>
                    </div>
                    <div class="flex gap-4">
                        <Image src={iconMsg} alt="facebook icon" class="w-5" />
                        <div class="flex flex-col gap-0.5">
                            <a
                                href="https://forms.banffpay.com/cofor/form/Submitanenquiry/formperma/LHrDtHdNr1v6A8FZAkOeHFROYttVfp_z1Xi-rHlzbAA"
                                title="Submit an enquiry"
                                target="_blank"
                                onclick="zforms_open_window(this.href, 648, 700); return false"
                                class="font-medium text-base hover:underline transition-all">Submit an enquiry</a
                            >
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </div>
</div>
<!-- <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; open</span> -->

<style>
    .overlay {
        height: 100%;
        width: 0;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: rgb(0, 0, 0);
        background-color: rgba(0, 0, 0, 0.9);
        overflow-x: hidden;
        transition: 0.5s;
    }

    .overlay-content {
        position: relative;
        top: 20%;
        width: 100%;
        /* text-align: center;
        margin-top: 30px; */
    }

    .overlay .closebtn {
        position: absolute;
        top: 20px;
        right: 45px;
        font-size: 60px;
    }

    .active {
        background-color: #67c1ff;
        color: white;
    }

    .dropdown-container {
        display: none;
        background-color: #262626;
    }

    @media screen and (max-height: 450px) {
        .overlay a {
            font-size: 20px;
        }
        .overlay .closebtn {
            font-size: 40px;
            top: 15px;
            right: 35px;
        }
    }
</style>

<script>
    const menuBtn = document.querySelector("#openMenu")
    function openNav() {
        if (menuBtn.getAttribute("name") === "menu-outline") {
            document.getElementById("myNav").style.width = "100%"
            menuBtn.setAttribute("name", "close-outline")
        } else {
            document.getElementById("myNav").style.width = "0%"
            menuBtn.setAttribute("name", "menu-outline")
        }
    }

    document.querySelector("#openMenu").addEventListener("click", openNav)
    // document.querySelector(".closebtn").addEventListener("click", closeNav)

    var dropdown = document.getElementsByClassName("dropdown-btn")

    for (let i = 0; i < dropdown.length; i++) {
        dropdown[i].addEventListener("click", function () {
            this.classList.toggle("active")
            var dropdownContent = this.nextElementSibling
            if (dropdownContent.style.display === "flex") {
                dropdownContent.style.display = "none"
            } else {
                dropdownContent.style.display = "flex"
            }
        })
    }

    // document.querySelector("a").addEventListener("click", function (e) {
    //     // e.preventDefault()
    //     closeNav()
    // })
</script>
