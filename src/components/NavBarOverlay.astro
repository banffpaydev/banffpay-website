---
import { Image } from "astro:assets"
import arrowDown from "@assets/arrow-down.svg"

import iconCall from "@assets/icon-call.svg"
import iconEmail from "@assets/icon-email.svg"
import iconFb from "@assets/icon-fb.svg"
import iconMsg from "@assets/icon-message.svg"
---

<div id="myNav" class="overlay">
    <div class="overlay-content px-5 flex flex-col gap-5 text-lg text-white">
        <!-- About use -->
        <a href="/about" class="pb-3 hover:text-white border-b border-b-gray-600">About Us</a>
        <div class="pb-3 hover:text-white border-b border-b-gray-600">
            <span class="pb-3 inline-block">Services</span>
            <ul class="list-disc flex flex-col px-6 text-base gap-2">
                <li><a href="/#send-money" class="link-items hover:text-white border-b pb-1">Send Money</a></li>
                <li>
                    <a href="/#exchange-money" class="link-items hover:text-white border-b pb-1">Exchange Currency</a>
                </li>
                <li><a href="/#add-money" class="link-items hover:text-white border-b pb-1">Add Money</a></li>
            </ul>
        </div>
        <div class="pb-3 hover:text-white border-b border-b-gray-600">
            <span class="pb-3 inline-block">Support</span>
            <ul class="flex flex-col px-6 text-base gap-2">
                <li class="flex items-center gap-2">
                    <ion-icon name="logo-facebook" class="text-lg"></ion-icon>
                    <a href="https://www.facebook.com/profile.php?id=61557032189245&mibextid=ZbWKwL" class="link-items hover:text-white">Facebook</a>
                </li>
                <li class="flex items-center gap-2">
                    <ion-icon name="logo-instagram" class="text-lg"></ion-icon>
                    <a href="https://www.instagram.com/usebanffpay/" class="link-items hover:text-white">Instagram</a>
                </li>
                <li class="flex items-center gap-2">
                    <ion-icon name="logo-twitter" class="text-lg"></ion-icon>
                    <a href="https://twitter.com/usebanffpay" class="link-items hover:text-white">X (Twitter)</a>
                </li>
                
            </ul>
        </div>
        <button
            class="self-start rounded-md bg-brand-primary-950 py-4 px-8 text-white font-semibold text-sm border-b border-b-gray-600"
        >
            <a
                href="https://forms.banffpay.com/cofor/form/Waitlist/formperma/3gfkggPKGMa3U8H3OWpOE_DkdPXJLJgyBtHl91gVA4g"
                title="Join Waitlist"
                target="_blank"
                onclick="zforms_open_window(this.href, 648, 700); return false">Download App</a
            >
        </button>
    </div>
</div>

<style>
    .overlay {
        height: 100%;
        width: 0;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: rgb(0, 0, 0);
        background-color: rgba(0, 0, 0, 0.9);
        overflow-x: hidden;
        transition: 0.2s;
    }

    .overlay-content {
        position: relative;
        top: 15%;
        width: 100%;
        /* text-align: center;
        margin-top: 30px; */
    }

    .overlay .closebtn {
        position: absolute;
        top: 20px;
        right: 45px;
        font-size: 60px;
    }

    .active {
        background-color: #67c1ff;
        color: white;
    }

    .dropdown-container {
        display: none;
        background-color: #262626;
    }

    @media screen and (max-height: 450px) {
        .overlay a {
            font-size: 20px;
        }
        .overlay .closebtn {
            font-size: 40px;
            top: 15px;
            right: 35px;
        }
    }
</style>

<script>
    const menuBtn = document.querySelector("#openMenu")
    function openNav() {
        if (menuBtn.getAttribute("name") === "menu-outline") {
            document.getElementById("myNav").style.width = "100%"
            menuBtn.setAttribute("name", "close-outline")
        } else {
            document.getElementById("myNav").style.width = "0%"
            menuBtn.setAttribute("name", "menu-outline")
        }
    }

    document.querySelector("#openMenu").addEventListener("click", openNav)
    // document.querySelector(".closebtn").addEventListener("click", closeNav)

    var dropdown = document.getElementsByClassName("dropdown-btn")

    for (let i = 0; i < dropdown.length; i++) {
        dropdown[i].addEventListener("click", function () {
            this.classList.toggle("active")
            var dropdownContent = this.nextElementSibling
            if (dropdownContent.style.display === "flex") {
                dropdownContent.style.display = "none"
            } else {
                dropdownContent.style.display = "flex"
            }
        })
    }

    document.querySelectorAll(".link-items").forEach((item) => {
        item.addEventListener("click", (e) => {
            e.preventDefault()
            const target = item.getAttribute("href").slice(1)
            // const target = e.target.getAttribute("href")
            document.querySelector(target).scrollIntoView({ behavior: "smooth", block: "center" })
            openNav()
        })
    })

    // document.querySelector("a").addEventListener("click", function (e) {
    //     // e.preventDefault()
    //     closeNav()
    // })
</script>
